<div id="bet-room" class="container">
    <div class="row">
        <div class="col-sm-12 text-center">
            <h2>Make A bet</h2>
            <button class="btn btn-success btn-bet-heading" onclick="loadPage('fixture')">List of Matches</button>
        </div>
    </div>
    <div class="row bet-content">
        <div class="col-sm-8 text-center" id="view-home">
        </div>
        <div class="col-sm-1"></div>
        <div class="col-sm-2">
            <div class="form-group">
                <label for="bet">Define Your Bet</label>
                <input type="text" class="form-control" id="bet-num">
                <button class="btn btn-danger" id="make-bet-btn" style="margin-top:10px;">Make Bet</button>
            </div>
        </div>
    </div>
    <template id="t-template">
            <div class="row">
                <div class="col-sm-4">
                    <h1>{home_name}</h1>
                    <h2 class="t-margin">Home Team</h2>
                </div>
                <div class="col-sm-4">
                    <h1 class="vs">VS</h1>
                    <h3>Scheduled at: {schedule}</h3>
                </div>
                <div class="col-sm-4">
                    <h1>{away_name}</h1>
                    <h2 class="t-margin">Away Team</h2>
                </div>
            </div>
      
    </template>
</div>
<script>
    (function(){
        var $dTemplate=$('#t-template');
        var $viewHome=$('#view-home');
        var $makeBetBtn=$('#make-bet-btn');

        var newT=$dTemplate.html();
        var dateObj=new Date(currentBet.utcDate);
        var dStr=dateObj.toDateString();

        var convertT=newT
        .replace('{home_name}',currentBet.homeTeam.name)
        .replace('{away_name}',currentBet.awayTeam.name)
        .replace('{schedule}',dStr);

        $viewHome.html(convertT);

        $makeBetBtn.click(function(){
            var data={
                "home_name":currentBet.homeTeam.name,
                "away_name":currentBet.awayTeam.name,
                "real_id":currentBet.id,
                "schedule":currentBet.utcDate,
                "winner":null
            }
            var headers={
                'Content-Type':'application/json',
                'token':'[TOKEN]'
            }

            var url='http://localhost:3000/bet';
            $.ajax({
                method:'POST',
                url:url,
                data:data,
                headers:headers
            }).done(function(){
                alert('Berhasil menaruh taruhan')
            })
            .fail(function(){
                alert('Gagal menaruh taruhan');
            })

        })

    })();
    


</script>